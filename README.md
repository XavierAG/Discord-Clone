### Get the Current User

Returns the information about the current user that is logged in.

- Require Authentication: true

- Request

- Method: GET
  - URL: /api/session
  - Body: none



- Successful Response when there is a logged in user

- Status Code: 200

- Headers:

- Content-Type: application/json

- Body:
    ```json

{

"user": {

"id": 1,

"firstName": "John",

"lastName": "Smith",

"email": "john.smith@gmail.com",

"username": "JohnSmith"

}

}

```
   - Successful Response when there is no logged in user

- Status Code: 200

- Headers:

- Content-Type: application/json

- Body:

```json

{

"user": null

}

```

### Log In a User

Logs in a current user with valid credentials and returns the current user's

information.

- Require Authentication: false

- Request

- Method: POST

- URL: /api/session

- Headers:

- Content-Type: application/json

- Body:

```json

{

"email": "john.smith@gmail.com",

"password": "secret password"

}

```

- Successful Response

- Status Code: 200

- Headers:

- Content-Type: application/json

- Body:

```json

{

"user": {

"id": 1,

"firstName": "John",

"lastName": "Smith",

"email": "john.smith@gmail.com",

"username": "JohnSmith"

}

}

```

- Error Response: Invalid credentials

- Status Code: 401

- Headers:

- Content-Type: application/json

- Body:

```json

{

"message": "Invalid credentials"

}

```

- Error response: Body validation errors

- Status Code: 400

- Headers:

- Content-Type: application/json

- Body:

```json

{

"message": "Bad Request", // (or "Validation error" if generated by Sequelize),

"errors": {

"email": "Email is required",

"password": "Password is required"

}

}

```

### Sign Up a User

Creates a new user, logs them in as the current user, and returns the current

user's information.

- Require Authentication: false

- Request

- Method: POST

- URL: /api/users

- Headers:

- Content-Type: application/json

- Body:

```json

{

"firstName": "John",

"lastName": "Smith",

"email": "john.smith@gmail.com",

"username": "JohnSmith",

"password": "secret password"

}

```

- Successful Response

- Status Code: 200

- Headers:

- Content-Type: application/json

- Body:

```json

{

"user": {

"id": 1,

"firstName": "John",

"lastName": "Smith",

"email": "john.smith@gmail.com",

"username": "JohnSmith"

}

}

```

- Error response: User already exists with the specified email

- Status Code: 500

- Headers:

- Content-Type: application/json

- Body:

```json

{

"message": "User already exists",

"errors": {

"email": "User with that email already exists"

}

}

```

- Error response: User already exists with the specified username

- Status Code: 500

- Headers:

- Content-Type: application/json

- Body:

```json

{

"message": "User already exists",

"errors": {

"username": "User with that username already exists"

}

}

```

- Error response: Body validation errors

- Status Code: 400

- Headers:

- Content-Type: application/json

- Body:

```json

{

"message": "Bad Request", // (or "Validation error" if generated by Sequelize),

"errors": {

"email": "Invalid email",

"firstName": "First Name is required",

"lastName": "Last Name is required"

}

}

```

## Servers

### Get all Servers

Returns all the servers.

- Require Authentication: false
- Request
  - Method: GET
  - URL: /api/servers
  - Body: none
- Successful Response
  - Status Code: 200
  - Headers:
    - Content-Type: application/json
  - Body:
  ```json
  "Servers": [
  	{
  		"id": 1,
  		"name": "cool server",
  		"image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
  	    "private": False,
  	    "owner_id" = 1
  	}
  ]
  ```

````

## Get all Servers joined or organized by the Current User
Returns all the Servers

- Require Authentication: true
- Request
	- Method: GET
	- URL: /api/servers/current
	- Body: none
- Successful Response
	- Status Code: 200
	- Headers:
		- Content-Type: application/json
	- Body:
	```json
{
	"Servers": [
		{
			"id": 1,
			"name": "cool server",
			"image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
		    "private": False,
		    "owner_id" = 1
		}
	]
}
````

## Get details of a Server from an id

Returns the details of a group specified by its id

- Require Authentication: false
- Request
  - Method: GET
  - URL: /api/servers/current
  - Body: none
- Successful Response - Status Code: 200 - Headers: - Content-Type: application/json - Body:
  ```json
  {
  "id": 1,
  "name": "cool server",
  "image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
   "private": False,
   "owner_id" = 1
   "Channels": [
   {
   "id": 1,
   "name": "image url",
   },
   ]
  }

````

- Error response: Couldn't find a Server with the specified id
	- Status Code: 404
	- Headers:
		- Content-Type: application/json
	- Body:
	```json
	"message": "Server couldn't be found"
````

### Create a Server

Creates and returns a new server.

- Require Authentication: true
- Request - Method: POST - URL: /api/servers - Headers: - Content-Type: application/json - Body:
  ```json
  {
  "name": "cool server",
  "image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
   "private": True
  }

````
- Successful Response
	- Status Code:201
	- Headers:
		- Content-Type: application/json
	- Body:
	```json
	{
		"id": 1,
		"name": "cool server",
		"image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
		 "private": False,
		 "owner_id" = 1
	}
````

- Error Response: Body validation error - Status Code: 400 - Headers: - Content-Type: applictaion/json - Body:
  ```json
  {
  "message": "Bad Request",
  "errors": {
  "name": "Name must be 100 characters or less",
  "private": "Private must be a boolean",
  }
  }

````

### Edit a Server
Updates and returns an existing server.
- Require Authentication: true
- Require proper authentication: Server must belong to the current user
- Request
	- Method: PUT
	- URL: api/servers/<int:server_id>
	- Headers:
		- Content-Type: application/json
	- Body:
	```json
	{
	"name": "cool server2",
		"image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
		 "private": True
	}
````

- Successful Response
  - Status Code:201
  - Headers:
    - Content-Type: application/json
  - Body:
  ```json
  {
  	"id": 1,
  	"name": "cool server",
  	"image_url": "https://www.tinkeringmonkey.com/wp-content/uploads/2020/09/app-academy-closeup2-scaled.jpg",
  	 "private": False,
  	 "owner_id" = 1
  }
  ```

````
- Error Response: Body validation error
	- Status Code: 400
	- Headers:
		- Content-Type: applictaion/json
	- Body:
	```json
	{
	"message": "Bad Request",
    "errors": {
    "name": "Name must be 100 characters or less",
    "private": "Private must be a boolean",
  }
}
````

- Error response: Couldn't find a Server with the specified id
  - Status Code: 404
  - Headers:
    - Content-Type: application/json
  - Body
  ```json
  "message": "Server couldn't be found"
  ```

````

### Delete a Server
Deletes an existing server.
- Require Authentication: true
- Require proper authentication: Server must belong to the current user
- Request
	- Method: DELETE
	- URL: /api/servers/<int:server_id>
	- Body: none
- Successful Response
	- Status Code: 200
	- Headers:
		- Content-Type: application/json
	- Body:
	``` json
	{
		"message": "Server successfully deleted"
	}
````

- Error response: Couldn't find a Server with the specified id
  - Status Code: 404
  - Headers:
    - Content-Type: application/json
  - Body
  ```json
  "message": "Server couldn't be found"
  ```

```

```
